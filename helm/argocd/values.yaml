# Minimal ArgoCD Helm Values
# Installs only core ArgoCD components

argo-cd:
  global:
    imagePullPolicy: IfNotPresent

  # ArgoCD server (API and UI)
  server:
    enabled: true
    replicaCount: 1
    insecure: true
    # Disable TLS certificate creation - we use HTTP with Kong ingress
    service:
      type: ClusterIP
    certificate:
      enabled: false
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 512Mi

  # ArgoCD repository server
  repoServer:
    enabled: true
    replicaCount: 1
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 512Mi

  # ArgoCD application controller
  controller:
    enabled: true
    replicaCount: 1
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 1Gi

  # ArgoCD notification controller
  notifications:
    enabled: true
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 100m
        memory: 256Mi

  # Dex for OAuth/OIDC
  dex:
    enabled: true
    replicaCount: 1
    resources:
      requests:
        cpu: 50m
        memory: 64Mi
      limits:
        cpu: 100m
        memory: 128Mi

  # Redis for caching
  redis:
    enabled: true
    resources:
      requests:
        cpu: 50m
        memory: 64Mi
      limits:
        cpu: 100m
        memory: 256Mi

  # ApplicationSet
  applicationSet:
    enabled: true
    replicaCount: 1
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 512Mi

  # Minimal ArgoCD configuration
  configs:
    params:
      server.insecure: "true"
    secret:
      createSecret: true
    repositories: {}
    knownHosts:
      data: {}
